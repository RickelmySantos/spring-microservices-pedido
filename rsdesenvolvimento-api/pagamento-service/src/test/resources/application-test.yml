spring:
    datasource:
        url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
        driver-class-name: org.h2.Driver
        username: sa
        password: ''

    # JPA/Hibernate configurações para teste
    jpa:
        database-platform: org.hibernate.dialect.H2Dialect
        hibernate:
            ddl-auto: create-drop
        show-sql: true
        properties:
            hibernate:
                '[format_sql]': true
                # Auditoria JPA
                envers:
                    '[audit_table_suffix]': _AUD
                    '[revision_field_name]': REV
                    '[revision_type_field_name]': REVTYPE

    flyway:
        enabled: false

    cloud:
        discovery:
            enabled: false

    # RabbitMQ configurações para teste
    rabbitmq:
        host: localhost
        port: 5672
        username: guest
        password: guest

# Configurações de log para testes
logging:
    level:
        org:
            hibernate:
                SQL: DEBUG
                type:
                    descriptor:
                        sql:
                            BasicBinder: TRACE
        com:
            rsdesenvolvimento: DEBUG

eureka:
    client:
        enabled: false
