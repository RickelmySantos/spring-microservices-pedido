 SET SCHEMA 'estoque';

-- [SEQUENCE:ESTOQUE]
 CREATE SEQUENCE IF NOT EXISTS SQ_ESTOQUE START 
 WITH
    1 INCREMENT BY 1 MINVALUE 1;

-- [TABLE:ESTOQUE]

CREATE TABLE IF NOT EXISTS estoque.TB_ESTOQUE (
    ID BIGINT NOT NULL DEFAULT nextval('SQ_ESTOQUE'),
    NOME VARCHAR(100) NOT NULL,
    DESCRICAO TEXT,
    PRECO DECIMAL(10,2) NOT NULL,
    CATEGORIA VARCHAR(50) NOT NULL,
    ESTOQUE INT DEFAULT 0,
    IMAGEM_URL VARCHAR(255),
    DATA_HORA_CRIACAO TIMESTAMP,
    CRIADO_POR VARCHAR(255),
    DATA_HORA_ATUALIZACAO TIMESTAMP,
    ATUALIZADO_POR VARCHAR(255),
      CONSTRAINT TB_ESTOQUE_PK PRIMARY KEY (ID)
);

-- [CONSTRAINTS:ESTOQUE]
ALTER TABLE TB_ESTOQUE
    DROP CONSTRAINT IF EXISTS TB_ESTOQUE_UK_ID;

ALTER TABLE TB_ESTOQUE
    ADD CONSTRAINT TB_ESTOQUE_UK_ID UNIQUE (ID);