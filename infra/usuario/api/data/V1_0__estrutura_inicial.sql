 SET SCHEMA 'usuario';

-- [SEQUENCE:USUARIO]
 CREATE SEQUENCE IF NOT EXISTS SQ_USUARIO START 
 WITH
    1 INCREMENT BY 1 MINVALUE 1;

-- [TABLE:USUARIO]

CREATE TABLE IF NOT EXISTS usuario.TB_USUARIO (
    id BIGINT NOT NULL DEFAULT nextval('SQ_USUARIO'),
    NOME VARCHAR(100) NOT NULL,
    CPF VARCHAR(11) NOT NULL UNIQUE,
    EMAIL VARCHAR(50) NOT NULL UNIQUE,
    ATIVO BOOLEAN NOT NULL,
    DATA_HORA_CRIACAO TIMESTAMP,
    CRIADO_POR VARCHAR(255),
    DATA_HORA_ATUALIZACAO TIMESTAMP,
    ATUALIZADO_POR VARCHAR(255),
      CONSTRAINT TB_USUARIO_PK PRIMARY KEY (ID)
);

-- [CONSTRAINTS:USUARIO]
ALTER TABLE TB_USUARIO
    DROP CONSTRAINT IF EXISTS TB_USUARIO_UK_CPF;

ALTER TABLE TB_USUARIO
    ADD CONSTRAINT TB_USUARIO_UK_CPF UNIQUE (CPF);

ALTER TABLE TB_USUARIO
    DROP CONSTRAINT IF EXISTS TB_USUARIO_UK_EMAIL;

ALTER TABLE TB_USUARIO
    ADD CONSTRAINT TB_USUARIO_UK_EMAIL UNIQUE (EMAIL);    